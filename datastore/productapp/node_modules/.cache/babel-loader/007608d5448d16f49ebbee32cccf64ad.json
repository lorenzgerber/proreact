{"ast":null,"code":"import { connect } from \"react-redux\";\nimport { endEditing } from \"./stateActions\";\nimport { saveProduct, saveSupplier } from \"./modelActionCreators\";\nimport { PRODUCTS, SUPPLIERS } from \"./dataTypes\";\nexport var EditorConnector = function EditorConnector(dataType, presentationComponent) {\n  var mapStateToProps = function mapStateToProps(storeData) {\n    return {\n      editing: storeData.stateData.editing && storeData.stateData.selectedType === dataType,\n      product: storeData.modelData[PRODUCTS].find(function (p) {\n        return p.id === storeData.stateData.selectedId;\n      }) || {},\n      supplier: storeData.modelData[SUPPLIERS].find(function (s) {\n        return s.id === storeData.stateData.selectedId;\n      }) || {}\n    };\n  };\n\n  var mapDispatchToProps = function mapDispatchToProps(dispatch) {\n    return {\n      cancelCallback: function cancelCallback() {\n        return dispatch(endEditing());\n      },\n      saveCallback: function saveCallback(data) {\n        dispatch((dataType === PRODUCTS ? saveProduct : saveSupplier)(data));\n        dispatch(endEditing());\n      }\n    };\n  };\n\n  return connect(mapStateToProps, mapDispatchToProps)(presentationComponent);\n};","map":{"version":3,"sources":["/code/src/store/EditorConnector.js"],"names":["connect","endEditing","saveProduct","saveSupplier","PRODUCTS","SUPPLIERS","EditorConnector","dataType","presentationComponent","mapStateToProps","storeData","editing","stateData","selectedType","product","modelData","find","p","id","selectedId","supplier","s","mapDispatchToProps","dispatch","cancelCallback","saveCallback","data"],"mappings":"AAAA,SAASA,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,gBAA3B;AACA,SAASC,WAAT,EAAsBC,YAAtB,QAA0C,uBAA1C;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAqC,aAArC;AAEA,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,QAAD,EAAWC,qBAAX,EAAqC;AAEhE,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,SAAD;AAAA,WAAgB;AACpCC,MAAAA,OAAO,EAAED,SAAS,CAACE,SAAV,CAAoBD,OAApB,IACFD,SAAS,CAACE,SAAV,CAAoBC,YAApB,KAAqCN,QAFR;AAGpCO,MAAAA,OAAO,EAAGJ,SAAS,CAACK,SAAV,CAAoBX,QAApB,EACLY,IADK,CACA,UAAAC,CAAC;AAAA,eAAIA,CAAC,CAACC,EAAF,KAASR,SAAS,CAACE,SAAV,CAAoBO,UAAjC;AAAA,OADD,CAAD,IACmD,EAJxB;AAKpCC,MAAAA,QAAQ,EAAEV,SAAS,CAACK,SAAV,CAAoBV,SAApB,EACLW,IADK,CACA,UAAAK,CAAC;AAAA,eAAIA,CAAC,CAACH,EAAF,KAASR,SAAS,CAACE,SAAV,CAAoBO,UAAjC;AAAA,OADD,CAAD,IACmD;AANxB,KAAhB;AAAA,GAAxB;;AASA,MAAMG,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,QAAQ;AAAA,WAAK;AACpCC,MAAAA,cAAc,EAAE;AAAA,eAAMD,QAAQ,CAACtB,UAAU,EAAX,CAAd;AAAA,OADoB;AAEpCwB,MAAAA,YAAY,EAAE,sBAACC,IAAD,EAAU;AACpBH,QAAAA,QAAQ,CAAC,CAAChB,QAAQ,KAAKH,QAAb,GAAwBF,WAAxB,GAAqCC,YAAtC,EAAoDuB,IAApD,CAAD,CAAR;AACAH,QAAAA,QAAQ,CAACtB,UAAU,EAAX,CAAR;AACH;AALmC,KAAL;AAAA,GAAnC;;AAQA,SAAOD,OAAO,CAACS,eAAD,EAAkBa,kBAAlB,CAAP,CAA6Cd,qBAA7C,CAAP;AACH,CApBM","sourcesContent":["import { connect } from \"react-redux\";\nimport { endEditing } from \"./stateActions\";\nimport { saveProduct, saveSupplier } from \"./modelActionCreators\";\nimport { PRODUCTS, SUPPLIERS  } from \"./dataTypes\";\n\nexport const EditorConnector = (dataType, presentationComponent) => {\n\n    const mapStateToProps = (storeData) => ({\n        editing: storeData.stateData.editing \n            && storeData.stateData.selectedType === dataType,\n        product: (storeData.modelData[PRODUCTS]\n            .find(p => p.id === storeData.stateData.selectedId)) || {},\n        supplier:(storeData.modelData[SUPPLIERS]\n            .find(s => s.id === storeData.stateData.selectedId)) || {}\n    })\n    \n    const mapDispatchToProps = dispatch => ({\n        cancelCallback: () => dispatch(endEditing()), \n        saveCallback: (data) => {\n            dispatch((dataType === PRODUCTS ? saveProduct: saveSupplier)(data));\n            dispatch(endEditing());\n        }\n    });\n\n    return connect(mapStateToProps, mapDispatchToProps)(presentationComponent);\n}\n"]},"metadata":{},"sourceType":"module"}