{"ast":null,"code":"import _classCallCheck from \"/code/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/code/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/code/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/code/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/code/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/code/src/ProductsAndSuppliers.js\";\nimport React, { Component } from 'react';\nimport { Selector } from './Selector';\nimport { ProductDisplay } from './ProductDisplay';\nimport { SupplierDisplay } from './SupplierDisplay';\n\nvar ProductsAndSuppliers =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ProductsAndSuppliers, _Component);\n\n  function ProductsAndSuppliers(props) {\n    var _this;\n\n    _classCallCheck(this, ProductsAndSuppliers);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProductsAndSuppliers).call(this, props));\n\n    _this.saveData = function (collection, item) {\n      if (item.id === \"\") {\n        item.id = _this.idCounter++;\n\n        _this.setState(function (state) {\n          return state[collection] = state[collection].concat(item);\n        });\n      } else {\n        _this.setState(function (state) {\n          return state[collection] = state[collection].map(function (stored) {\n            return stored.id === item.id ? item : stored;\n          });\n        });\n      }\n    };\n\n    _this.deleteData = function (collection, item) {\n      _this.setState(function (state) {\n        return state[collection] = state[collection].filter(function (stored) {\n          return stored.id !== item.id;\n        });\n      });\n    };\n\n    _this.state = {\n      products: [{\n        id: 1,\n        name: \"Kayak\",\n        category: \"Watersports\",\n        price: 275\n      }, {\n        id: 2,\n        name: \"Lifejacket\",\n        category: \"Watersports\",\n        price: 48.95\n      }, {\n        id: 3,\n        name: \"Soccer Ball\",\n        category: \"Soccer\",\n        price: 19.50\n      }],\n      suppliers: [{\n        id: 1,\n        name: \"Surf Dudes\",\n        city: \"San Jose\",\n        products: [1, 2]\n      }, {\n        id: 2,\n        name: \"Field Supplies\",\n        city: \"New York\",\n        products: [3]\n      }]\n    };\n    _this.idCounter = 100;\n    return _this;\n  }\n\n  _createClass(ProductsAndSuppliers, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(Selector, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(ProductDisplay, {\n        name: \"Products\",\n        products: this.state.products,\n        saveCallback: function saveCallback(p) {\n          return _this2.saveData(\"products\", p);\n        },\n        deleteCallback: function deleteCallback(p) {\n          return _this2.deleteData(\"products\", p);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }), React.createElement(SupplierDisplay, {\n        name: \"Suppliers\",\n        suppliers: this.state.suppliers,\n        saveCallback: function saveCallback(s) {\n          return _this2.saveData(\"suppliers\", s);\n        },\n        deleteCallback: function deleteCallback(s) {\n          return _this2.deleteData(\"suppliers\", s);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return ProductsAndSuppliers;\n}(Component);\n\nexport { ProductsAndSuppliers as default };","map":{"version":3,"sources":["/code/src/ProductsAndSuppliers.js"],"names":["React","Component","Selector","ProductDisplay","SupplierDisplay","ProductsAndSuppliers","props","saveData","collection","item","id","idCounter","setState","state","concat","map","stored","deleteData","filter","products","name","category","price","suppliers","city","p","s"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Selector } from './Selector';\nimport { ProductDisplay } from './ProductDisplay';\nimport { SupplierDisplay } from './SupplierDisplay';\n\nexport default class ProductsAndSuppliers extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            products: [\n                { id: 1, name: \"Kayak\", \n                category: \"Watersports\", price: 275 },\n                { id: 2, name: \"Lifejacket\", \n                    category: \"Watersports\", price: 48.95 },\n                { id: 3, name: \"Soccer Ball\", category: \"Soccer\", price: 19.50 }\n            ],\n            suppliers: [\n                { id: 1, name: \"Surf Dudes\", city: \"San Jose\", products: [1, 2] },\n                { id: 2, name: \"Field Supplies\", city: \"New York\", products: [3] },\n            ]\n        }\n        this.idCounter = 100;\n    }\n\n    saveData = (collection, item) => {\n        if (item.id === \"\") {\n            item.id = this.idCounter++;\n            this.setState(state => state[collection] \n                = state[collection].concat(item));\n        } else {\n            this.setState(state => state[collection] \n                = state[collection].map(stored => \n                      stored.id === item.id ? item: stored))\n        } \n    }\n\n    deleteData = (collection, item) => {\n        this.setState(state => state[collection] \n            = state[collection].filter(stored => stored.id !== item.id));\n    }\n\n    render() {\n        return <div>\n            <Selector>\n                <ProductDisplay \n                    name=\"Products\"\n                    products={ this.state.products }\n                    saveCallback={ p => this.saveData(\"products\", p) }\n                    deleteCallback={ p => this.deleteData(\"products\", p) } />\n                <SupplierDisplay\n                    name=\"Suppliers\"\n                    suppliers={ this.state.suppliers }\n                    saveCallback={ s => this.saveData(\"suppliers\", s) }\n                    deleteCallback={ s => this.deleteData(\"suppliers\", s) } />\n            </Selector>\n        </div>\n    }\n}\n"]},"metadata":{},"sourceType":"module"}