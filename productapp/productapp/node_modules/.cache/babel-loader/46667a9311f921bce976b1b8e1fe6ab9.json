{"ast":null,"code":"import _objectSpread from \"/code/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { connect } from 'react-redux';\nimport { startEditingProduct, startEditingSupplier } from './stateActions';\nimport { deleteProduct, deleteSupplier } from './modelActionCreators';\nimport { PRODUCTS, SUPPLIERS } from './dataTypes';\nexport var TableConnector = function TableConnector(dataType, presentationComponent) {\n  var mapStateToProps = function mapStateToProps(storeData) {\n    return {\n      products: storeData.modelData[PRODUCTS],\n      suppliers: storeData.modelData[SUPPLIERS].map(function (supp) {\n        return _objectSpread({}, supp, {\n          products: supp.products.map(function (id) {\n            return storeData.modelData[PRODUCTS].find(function (p) {\n              return p.id === Number(id);\n            }) || id;\n          }).map(function (val) {\n            return val.name || val;\n          })\n        });\n      })\n    };\n  };\n\n  var mapDispatchToProps = {\n    editCallback: dataType === PRODUCTS ? startEditingProduct : startEditingSupplier,\n    deleteCallback: dataType === PRODUCTS ? deleteProduct : deleteSupplier\n  };\n  return connect(mapStateToProps, mapDispatchToProps)(presentationComponent);\n};","map":{"version":3,"sources":["/code/src/store/TableConnector.js"],"names":["connect","startEditingProduct","startEditingSupplier","deleteProduct","deleteSupplier","PRODUCTS","SUPPLIERS","TableConnector","dataType","presentationComponent","mapStateToProps","storeData","products","modelData","suppliers","map","supp","id","find","p","Number","val","name","mapDispatchToProps","editCallback","deleteCallback"],"mappings":";AAAA,SAASA,OAAT,QAAwB,aAAxB;AACA,SAASC,mBAAT,EAA8BC,oBAA9B,QAA0D,gBAA1D;AACA,SAASC,aAAT,EAAwBC,cAAxB,QAA8C,uBAA9C;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,aAApC;AAEA,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,QAAD,EAAWC,qBAAX,EAAqC;AAE/D,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,SAAD;AAAA,WAAgB;AACpCC,MAAAA,QAAQ,EAAED,SAAS,CAACE,SAAV,CAAoBR,QAApB,CAD0B;AAEpCS,MAAAA,SAAS,EAAEH,SAAS,CAACE,SAAV,CAAoBP,SAApB,EAA+BS,GAA/B,CAAmC,UAAAC,IAAI;AAAA,iCAC3CA,IAD2C;AAE9CJ,UAAAA,QAAQ,EAAEI,IAAI,CAACJ,QAAL,CAAcG,GAAd,CAAkB,UAAAE,EAAE;AAAA,mBAC1BN,SAAS,CAACE,SAAV,CAAoBR,QAApB,EAA8Ba,IAA9B,CAAmC,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAACF,EAAF,KAASG,MAAM,CAACH,EAAD,CAAnB;AAAA,aAApC,KAAgEA,EADtC;AAAA,WAApB,EAELF,GAFK,CAED,UAAAM,GAAG;AAAA,mBAAIA,GAAG,CAACC,IAAJ,IAAYD,GAAhB;AAAA,WAFF;AAFoC;AAAA,OAAvC;AAFyB,KAAhB;AAAA,GAAxB;;AAUA,MAAME,kBAAkB,GAAG;AACvBC,IAAAA,YAAY,EAAEhB,QAAQ,KAAKH,QAAb,GAAwBJ,mBAAxB,GAA8CC,oBADrC;AAEvBuB,IAAAA,cAAc,EAAEjB,QAAQ,KAAKH,QAAb,GAAwBF,aAAxB,GAAwCC;AAFjC,GAA3B;AAKA,SAAOJ,OAAO,CAACU,eAAD,EAAkBa,kBAAlB,CAAP,CAA6Cd,qBAA7C,CAAP;AAEH,CAnBM","sourcesContent":["import { connect } from 'react-redux';\nimport { startEditingProduct, startEditingSupplier } from './stateActions';\nimport { deleteProduct, deleteSupplier } from './modelActionCreators';\nimport { PRODUCTS, SUPPLIERS } from './dataTypes';\n\nexport const TableConnector = (dataType, presentationComponent) => {\n    \n    const mapStateToProps = (storeData) => ({\n        products: storeData.modelData[PRODUCTS],\n        suppliers: storeData.modelData[SUPPLIERS].map(supp => ({\n            ...supp,\n            products: supp.products.map(id =>\n                storeData.modelData[PRODUCTS].find(p => p.id === Number(id)) || id)\n                .map(val => val.name || val)\n        }))\n    })\n\n    const mapDispatchToProps = {\n        editCallback: dataType === PRODUCTS ? startEditingProduct : startEditingSupplier,\n        deleteCallback: dataType === PRODUCTS ? deleteProduct : deleteSupplier\n    }\n\n    return connect(mapStateToProps, mapDispatchToProps)(presentationComponent);\n\n}"]},"metadata":{},"sourceType":"module"}